# Модификаторы блюд

## Краткое описание

Страница для создания и настройки дополнений к блюдам, позволяющих клиентам персонализировать заказы через добавки, замены ингредиентов и другие вариации.

## Функциональные элементы

### Каталог модификаторов

- **Список модификаторов** - все созданные модификаторы с основной информацией
- **Группировка** - отображение по группам модификаторов
- **Фильтры** - по типу, группе, статусу, цене
- **Поиск** - по названию модификатора
- **Кнопка "Создать модификатор"** - добавление нового

### Конструктор модификатора

- **Основная информация** - название, описание, тип
- **Выбор группы** - назначение в логическую группу
- **Ценообразование** - тип цены (фиксированная/процентная/бесплатно)
- **Ингредиенты** - связь с номенклатурой для контроля остатков
- **Изображение** - фото модификатора для отображения

### Группы модификаторов

- **Управление группами** - создание, редактирование, удаление
- **Правила выбора** - один из группы/несколько/обязательный
- **Ограничения количества** - минимум и максимум выбора
- **Зависимости** - связи между группами
- **Порядок отображения** - сортировка групп и модификаторов

### Матрица назначений

- **Таблица блюд** - все блюда с возможностью назначения модификаторов
- **Массовые операции** - назначение группы модификаторов на несколько блюд
- **Исключения** - отключение определенных модификаторов для блюда
- **Наследование** - автоматическое назначение по категориям

### Настройки доступности

- **Расписание** - время доступности модификатора
- **Каналы продаж** - где показывать (зал/доставка/самовывоз)
- **Контроль остатков** - автоматическое отключение при отсутствии ингредиентов
- **Сезонные ограничения** - временные рамки доступности

## Связи с другими страницами

### Переходы из страницы

- **Блюда** → назначение модификаторов к блюдам
- **Номенклатура** → выбор ингредиентов для модификаторов
- **Склад** → контроль остатков ингредиентов
- **Отчеты** → анализ популярности модификаторов

### Переходы на страницу

- **Блюда** → при настройке модификаторов для блюда
- **Касса** → при оформлении заказа с модификаторами
- **Меню** → настройка отображения в публичном меню

## Бизнес-правила

### Типы модификаторов

- **Добавки** - соусы, сыр, овощи (с доплатой)
- **Замены** - тип мяса, гарнир (может быть без доплаты)
- **Размеры** - маленькая/средняя/большая порция
- **Исключения** - убрать ингредиент (обычно бесплатно)
- **Способы приготовления** - степень прожарки, острота

### Правила групп

- Обязательная группа - клиент должен выбрать
- Один из группы - радиокнопки
- Несколько из группы - чекбоксы с ограничениями
- Зависимые группы - появляются после выбора в другой группе

### Ценообразование

- Фиксированная доплата в рублях
- Процентная наценка от стоимости блюда
- Бесплатные модификаторы
- Скидки при выборе комбинаций

## UX/UI требования

### Конструктор модификатора

- **Предварительный просмотр** - как будет выглядеть в меню
- **Валидация в реальном времени** - проверка корректности настроек
- **Автодополнение** - при вводе названий и описаний
- **Drag & Drop** - для изменения порядка в группе

### Матрица назначений

- **Табличное представление** - блюда по строкам, группы модификаторов по колонкам
- **Массовые операции** - выделение и применение к нескольким блюдам
- **Цветовые индикаторы** - назначено/не назначено/частично
- **Фильтры** - по категориям блюд, группам модификаторов

### Мобильная версия

- **Упрощенный интерфейс** - основные функции редактирования
- **Touch-friendly** - элементы управления для сенсорных экранов

## Критерии готовности

- [ ] Каталог модификаторов отображает актуальные данные
- [ ] Конструктор модификатора валидирует все поля
- [ ] Группы модификаторов работают согласно правилам
- [ ] Матрица назначений корректно связывает блюда и модификаторы
- [ ] Ценообразование рассчитывается правильно
- [ ] Контроль остатков автоматически отключает недоступные модификаторы
- [ ] Расписание доступности применяется корректно
- [ ] Предварительный просмотр соответствует реальному отображению

## Оценка сложности

**Высокая сложность** - сложная система правил и зависимостей, матрица назначений, множественные типы ценообразования, контроль остатков, интеграция с блюдами и номенклатурой.
