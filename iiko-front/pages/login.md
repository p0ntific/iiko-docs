# Страница входа в систему

## Краткое описание

Страница авторизации пользователей в системе iiko Front. Обеспечивает безопасный доступ к функциям системы на основе ролей пользователей через PIN-код.

## Функциональные элементы

### Основные компоненты страницы

- **Поле ввода PIN-кода** - 4-значный код сотрудника
- **Цифровая клавиатура** - для ввода PIN-кода
- **Кнопка "Вход"** - подтверждение авторизации
- **Кнопка "Очистить"** - очистка введенного кода
- **Информационная панель** - отображение времени, даты, статуса системы
- **Логотип заведения** - брендинг
- **Сообщения системы** - уведомления и объявления
- **Индикатор связи** - статус подключения к серверу

### Функциональность

- Валидация PIN-кода в реальном времени
- Блокировка при множественных неудачных попытках
- Автоматическое перенаправление после успешного входа
- Определение роли пользователя и перенаправление
- Проверка активности смены
- Офлайн режим при потере связи

## Связи с другими страницами

### Входящие переходы

- **Все защищенные страницы** → автоматическое перенаправление при отсутствии авторизации
- **Страница выхода** → возврат после logout
- **Смена пользователя** → возврат к авторизации

### Исходящие переходы

- **Администратор** → [Настройки системы](./system-settings.md)
- **Менеджер** → [Отчеты](./reports.md) или [Дополнительное меню](./additional-menu.md)
- **Кассир** → [Главная фастфуд](./fastfood-main.md)
- **Официант** → [Главная ресторана](./restaurant-main.md)
- **Повар** → [Кухонный экран](./kitchen-screen.md)
- **Кладовщик** → [Складские документы](./warehouse-docs.md)

### Условные переходы

- **Смена не открыта** → [Открытие смены](./shift-open.md)
- **Смена открыта** → Рабочая страница по роли
- **Требуется закрытие смены** → [Закрытие смены](./shift-close.md)

## Бизнес-правила

### Валидация

- PIN-код: ровно 4 цифры
- Проверка существования пользователя в базе
- Проверка активности учетной записи
- Проверка времени работы (если настроено)

### Безопасность

- Блокировка на 15 минут после 5 неудачных попыток
- Хэширование PIN-кодов в базе данных
- Логирование всех попыток входа для аудита
- Таймаут сессии при бездействии

## UX/UI требования

### Визуальные состояния

- **Обычное состояние** - готовность к вводу
- **Состояние ввода** - отображение введенных символов (замаскированных)
- **Состояние проверки** - блокировка ввода, индикатор загрузки
- **Состояние ошибки** - красная подсветка поля, сообщение об ошибке
- **Офлайн режим** - предупреждение о потере связи

### Анимации

- Плавные переходы между состояниями
- Shake-анимация при ошибке валидации
- Пульсация кнопки при загрузке
- Fade-in для сообщений об ошибках

### Адаптивность

- Оптимизация для сенсорных экранов
- Крупные кнопки для удобства нажатия
- Четкие контрасты для читаемости
- Звуковая обратная связь при нажатиях

## Различия по ролям

### Администратор

- Доступ ко всем настройкам системы
- Просмотр логов авторизации
- Управление пользователями

### Менеджер

- Доступ к отчетам и аналитике
- Управление сменами
- Контроль работы персонала

### Кассир/Официант/Повар/Кладовщик

- Ограниченный доступ по роли
- Рабочие функции в соответствии с должностью

## Критерии готовности

- [ ] Форма корректно валидирует PIN-код
- [ ] Успешная авторизация перенаправляет на нужную страницу по роли
- [ ] Обработка всех типов ошибок с понятными сообщениями
- [ ] Блокировка при множественных неудачных попытках
- [ ] Работа в офлайн режиме
- [ ] Проверка активности смены перед входом
- [ ] Звуковая обратная связь при нажатиях

## Оценка сложности

**Средняя сложность** - стандартная форма авторизации с PIN-кодом, валидацией и ролевой системой доступа.
