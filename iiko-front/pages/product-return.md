# Возврат товара

## Краткое описание

Система обработки возвратов товаров и отмены заказов в iiko Front. Обеспечивает полный цикл возвратных операций - от инициации возврата до фискального оформления, включая различные причины возврата и способы компенсации клиентам.

## Функциональные элементы

### Основные компоненты страницы

- **Поиск заказа** - нахождение заказа для возврата
- **Детали заказа** - информация о возвращаемых позициях
- **Причины возврата** - классификация оснований для возврата
- **Способы компенсации** - варианты возмещения клиенту
- **Фискальное оформление** - печать чека возврата
- **Документооборот** - оформление сопроводительных документов

### Типы возвратов

- **Полный возврат заказа** - отмена всего заказа целиком
- **Частичный возврат** - возврат отдельных позиций
- **Возврат по качеству** - некачественные товары или блюда
- **Возврат по ошибке** - неправильно оформленный заказ
- **Отмена до приготовления** - отмена заказа до начала готовки
- **Возврат готового заказа** - возврат уже приготовленных блюд

### Способы компенсации

- **Денежный возврат** - возврат денег клиенту
- **Замена товара** - обмен на аналогичный или другой товар
- **Компенсационный сертификат** - выдача сертификата на сумму возврата
- **Зачет на счет** - зачисление на бонусный счет клиента
- **Комплимент** - бесплатное блюдо или напиток в качестве извинения

## Связи с другими страницами

### Входящие переходы

- **[Кассовая смена](./cash-shift.md)** → операции возврата в смене
- **[Дополнительное меню](./additional-menu.md)** → раздел "Возврат товара"
- **Клиентские обращения** → инициация возврата
- **Контроль качества** → возврат некачественных товаров

### Исходящие переходы

- **Фискальные операции** → Печать чека возврата
- **Складские операции** → Возврат товара на склад
- **Финансовые операции** → Возврат денежных средств
- **Отчетность** → [Отчеты](./reports.md) по возвратам

### Контекстные переходы

- **Замена товара** → Создание нового заказа
- **Анализ проблемы** → Система контроля качества
- **Эскалация** → Обращение к руководству

## Бизнес-правила

### Процесс возврата

1. **Инициация возврата** - обращение клиента с претензией
2. **Оценка ситуации** - проверка состояния товара и обстоятельств
3. **Оформление возврата** - выбор позиций и способа компенсации
4. **Фискальное оформление** - печать чека возврата и возврат средств

### Правила возврата

- **Временные ограничения** - сроки для возврата разных категорий товаров
- **Состояние товара** - требования к возвращаемым позициям
- **Документальное подтверждение** - необходимость чека или заказа
- **Лимиты возврата** - ограничения по сумме и количеству

### Контроль мошенничества

- **Проверка подлинности** чека или заказа
- **Анализ частоты** возвратов от одного клиента
- **Сверка с видеозаписями** при подозрительных случаях
- **Лимиты на сотрудников** - ограничения по сумме возвратов

## UX/UI требования

### Визуальные состояния

- **Обычное состояние** - поиск заказа для возврата
- **Состояние оформления** - процесс оформления возврата
- **Состояние фискализации** - печать чека возврата
- **Состояние завершения** - подтверждение возврата

### Анимации

- Плавные переходы между этапами возврата
- Анимация загрузки при поиске заказов
- Пульсация при критических операциях
- Fade-in для уведомлений о статусе

### Адаптивность

- Оптимизация для сенсорных экранов касс
- Крупные кнопки для быстрого нажатия
- Четкие контрасты для читаемости
- Поддержка различных размеров экранов

## Различия по ролям

### Кассир

- Оформление возвратов в рамках лимитов
- Печать чеков возврата
- Возврат денежных средств

### Менеджер

- Дополнительно: крупные возвраты
- Авторизация сложных случаев
- Анализ причин возвратов

### Администратор

- Полный доступ к функциям возврата
- Настройка лимитов и правил
- Мониторинг мошенничества

## Критерии готовности

- [ ] Поиск заказов работает корректно
- [ ] Оформление возвратов происходит без ошибок
- [ ] Фискальное оформление функционирует правильно
- [ ] Печать чеков возврата работает стабильно
- [ ] Контроль мошенничества выявляет подозрительные случаи
- [ ] Интеграция с фискальными системами настроена
- [ ] Адаптивная верстка на всех устройствах

## Оценка сложности

**Высокая сложность** - система возвратов с фискальными требованиями и контролем мошенничества.
