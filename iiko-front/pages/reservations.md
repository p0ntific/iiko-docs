# Резервы (бронирование столов)

## Краткое описание

Система управления бронированием столов в ресторане. Обеспечивает полный цикл работы с резервами - от создания брони до посадки гостей, включая интеграцию с онлайн платформами и управление листом ожидания.

## Функциональные элементы

### Основные компоненты страницы

- **Календарь резервов** - визуальное отображение броней по дням
- **Список резервов** - табличное представление с фильтрами
- **Форма создания резерва** - ввод данных бронирования
- **Карточка резерва** - детальная информация о брони
- **Схема зала** - визуальное назначение столов
- **Лист ожидания** - очередь при отсутствии свободных столов

### Информация о резерве

- **Данные гостя** - имя, телефон, email, количество персон
- **Параметры брони** - дата, время, продолжительность
- **Предпочтения** - зона зала, тип стола, особые пожелания
- **Статус резерва** - новый, подтвержден, посажен, отменен
- **История изменений** - все модификации резерва
- **Связанные заказы** - предварительные заказы блюд

### Панель управления

- **Создать резерв** - новое бронирование
- **Подтвердить бронь** - валидация резерва
- **Изменить резерв** - модификация параметров
- **Отменить бронь** - аннулирование резерва
- **Посадить гостей** - перевод резерва в активный заказ
- **Лист ожидания** - управление очередью

## Связи с другими страницами

### Входящие переходы

- **[Главная ресторана](./restaurant-main.md)** → кнопка "Резервы"
- **[Управление столами](./table-management.md)** → создание резерва для стола
- **Онлайн платформы** → автоматическое создание резервов
- **Телефонные звонки** → ручное создание броней

### Исходящие переходы

- **Посадка гостей** → [Управление столами](./table-management.md)
- **Создание заказа** → [Окно заказа (ресторан)](./restaurant-order.md)
- **Просмотр схемы** → [Схема зала](./hall-scheme.md)
- **Банкетное обслуживание** → [Банкеты](./banquets.md)

### Контекстные переходы

- **Конфликт резервов** → Система разрешения конфликтов
- **Лист ожидания** → Управление очередью
- **История гостя** → CRM профиль клиента

## Бизнес-правила

### Жизненный цикл резерва

1. **Создание резерва** - ввод контактных данных и параметров
2. **Обработка резерва** - проверка доступности и назначение стола
3. **Подтверждение резерва** - валидация и уведомление гостя
4. **День резерва** - напоминания и подготовка стола
5. **Посадка или отмена** - встреча гостей или отмена при неявке

### Автоматическое управление столами

- **Алгоритм подбора** оптимального стола
- **Учет предпочтений** гостя и истории посещений
- **Оптимизация загрузки** зала и официантов
- **Предотвращение конфликтов** при бронировании

### Статусы резервов

- **Новый** - только что создан, требует обработки
- **Подтвержден** - проверен и одобрен
- **Ожидает посадки** - гости должны прибыть
- **Посажен** - гости за столом, обслуживаются
- **Завершен** - успешно обслужен и рассчитан
- **Отменен** - аннулирован по различным причинам
- **No-show** - гости не пришли в назначенное время

## UX/UI требования

### Визуальные состояния

- **Обычное состояние** - отображение календаря резервов
- **Состояние создания** - процесс создания нового резерва
- **Состояние редактирования** - изменение существующего резерва
- **Состояние конфликта** - отображение проблем с бронированием

### Анимации

- Плавные переходы между представлениями календаря
- Анимация создания и изменения резервов
- Fade-in для уведомлений о статусе
- Пульсация при критических конфликтах

### Адаптивность

- Полная адаптация под планшеты для хостес
- Оптимизация для мобильных устройств
- Поддержка touch-интерфейса
- Адаптивные календари и схемы

## Различия по ролям

### Хостес

- Создание и управление резервами
- Встреча гостей и посадка
- Управление листом ожидания

### Официант

- Просмотр резервов на свои столы
- Уведомления о посадке гостей
- Подготовка столов к приему

### Менеджер

- Полный доступ к управлению резервами
- Разрешение конфликтов
- Аналитика и отчеты

### Администратор

- Настройки системы резервов
- Интеграции с внешними платформами
- Управление правилами бронирования

## Критерии готовности

- [ ] Календарь резервов отображается корректно
- [ ] Создание резервов работает без ошибок
- [ ] Автоматическое назначение столов функционирует
- [ ] Уведомления отправляются своевременно
- [ ] Лист ожидания управляется правильно
- [ ] Интеграции с онлайн платформами работают
- [ ] Конфликты резервов разрешаются корректно

## Оценка сложности

**Высокая сложность** - комплексная система бронирования с множественными интеграциями и управлением конфликтами.
