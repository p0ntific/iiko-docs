# Стоп-лист (управление недоступными блюдами)

## Краткое описание

Система управления временно недоступными для продажи блюдами и напитками. Обеспечивает оперативное исключение позиций из меню при отсутствии ингредиентов, проблемах с оборудованием или по другим причинам, с автоматическим уведомлением всех точек продаж.

## Функциональные элементы

### Основные компоненты страницы

- **Список заблокированных позиций** - все недоступные блюда
- **Форма добавления в стоп-лист** - исключение новых позиций
- **Причины блокировки** - классификация причин недоступности
- **Временные ограничения** - автоматическое восстановление
- **Уведомления** - информирование персонала об изменениях
- **История изменений** - аудиторский след всех операций

### Причины добавления в стоп-лист

- **Закончились ингредиенты** - отсутствие необходимых продуктов
- **Поломка оборудования** - неисправность кухонной техники
- **Проблемы с качеством** - несоответствие стандартам
- **Сезонная недоступность** - отсутствие сезонных продуктов
- **Решение руководства** - административное исключение
- **Санитарные требования** - нарушение норм безопасности

### Типы блокировки

- **Полная блокировка** - блюдо недоступно во всех режимах
- **Частичная блокировка** - ограничение по количеству
- **Временная блокировка** - с автоматическим восстановлением
- **Условная блокировка** - доступно только для определенных заказов

## Связи с другими страницами

### Входящие переходы

- **[Кухонный экран](./kitchen-screen.md)** → добавление при проблемах с приготовлением
- **[Окно заказа (ресторан)](./restaurant-order.md)** → уведомления о недоступных блюдах
- **[Окно заказа (фастфуд)](./fastfood-order.md)** → блокировка заказа недоступных позиций
- **[Складские документы](./warehouse-docs.md)** → автоматическое добавление при нулевых остатках

### Исходящие переходы

- **Все кассовые терминалы** → синхронизация недоступных позиций
- **Мобильные устройства** → обновление меню официантов
- **Онлайн платформы** → блокировка в интернет-заказах
- **Информационные табло** → отображение недоступных блюд

### Контекстные переходы

- **Восстановление позиции** → Проверка остатков на складе
- **Массовая блокировка** → [Складские документы](./warehouse-docs.md)
- **Анализ причин** → [Отчеты](./reports.md) по стоп-листу

## Бизнес-правила

### Процесс добавления в стоп-лист

1. **Выявление проблемы** - обнаружение причины недоступности
2. **Добавление позиции** - внесение блюда в стоп-лист
3. **Указание причины** - классификация причины блокировки
4. **Установка времени** - временные рамки недоступности
5. **Уведомление персонала** - информирование всех точек продаж
6. **Контроль восстановления** - мониторинг устранения причин

### Автоматические процессы

- **Синхронизация** с кассовыми терминалами
- **Обновление меню** на всех устройствах
- **Уведомления** официантов и кассиров
- **Блокировка заказов** недоступных позиций

### Восстановление позиций

- **Устранение причин** - решение проблем
- **Проверка готовности** - контроль возможности продаж
- **Восстановление в меню** - возврат позиций в продажу
- **Уведомление персонала** - информирование о возобновлении

## UX/UI требования

### Визуальные состояния

- **Обычное состояние** - отображение списка заблокированных позиций
- **Состояние добавления** - процесс добавления новой позиции
- **Состояние восстановления** - процесс восстановления позиции
- **Состояние уведомления** - отображение системных уведомлений

### Анимации

- Плавные переходы между состояниями
- Анимация добавления в стоп-лист
- Пульсация для срочных блокировок
- Fade-in для новых уведомлений

### Адаптивность

- Адаптация под различные размеры экранов
- Оптимизация для планшетов и мобильных устройств
- Поддержка сенсорного управления
- Четкое отображение статусов блокировки

## Различия по ролям

### Повар/Кассир

- Добавление позиций в стоп-лист
- Восстановление позиций
- Просмотр текущего стоп-листа

### Менеджер

- Дополнительно: массовые операции
- Анализ причин блокировок
- Управление уведомлениями

### Администратор

- Полный доступ ко всем функциям
- Настройки автоматизации
- Аудит изменений

## Критерии готовности

- [ ] Добавление позиций в стоп-лист работает корректно
- [ ] Синхронизация с кассовыми терминалами функционирует
- [ ] Уведомления персонала отправляются правильно
- [ ] Автоматическое восстановление работает
- [ ] История изменений ведется корректно
- [ ] Права доступа соблюдаются
- [ ] Адаптивная верстка на всех устройствах

## Оценка сложности

**Средняя сложность** - система управления недоступными позициями с автоматизацией и интеграциями.
