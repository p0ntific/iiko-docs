# Открытие смены

## Краткое описание

Страница открытия рабочей смены в системе iiko Front. Обеспечивает корректное начало рабочего дня с проверкой всех необходимых параметров и оборудования.

## Функциональные элементы

### Основные компоненты страницы

- **Информация о сотруднике** - ФИО, должность, время входа
- **Проверка фискального регистратора** - статус и время последнего Z-отчета
- **Поле суммы наличных** - для автоматической инкассации
- **Кнопка "Открыть смену"** - подтверждение открытия
- **Кнопка "Отмена"** - возврат к авторизации
- **Чек-лист проверок** - список обязательных проверок

### Функциональность

- Проверка статуса предыдущей смены
- Валидация фискального регистратора
- Проверка кассового оборудования
- Ввод начальной суммы наличных
- Создание записи о смене
- Автоматическая инкассация при необходимости

## Связи с другими страницами

### Входящие переходы

- **[Страница входа](./login.md)** → при первой авторизации дня
- **[Закрытие смены](./shift-close.md)** → после закрытия предыдущей смены
- **Системное уведомление** → при необходимости открыть новую смену

### Исходящие переходы

- **Успешное открытие** → Переход на рабочую страницу по роли:
    - **Кассир** → [Главная фастфуд](./fastfood-main.md)
    - **Официант** → [Главная ресторана](./restaurant-main.md)
    - **Менеджер** → [Отчеты](./reports.md)
- **Ошибка оборудования** → [Настройки оборудования](./equipment-settings.md)
- **Отмена** → [Страница входа](./login.md)

### Контекстные переходы

- **Ошибка фискального регистратора** → Страница диагностики
- **Несоответствие остатков** → Страница сверки кассы
- **Незакрытые заказы** → [Управление заказами](./order-management.md)

## Бизнес-правила

### Последовательность открытия смены

1. Проверка статуса предыдущей смены
2. Проверка фискального регистратора
3. Проверка кассового оборудования
4. Ввод начальной суммы наличных
5. Создание записи о смене

### Проверки и валидация

- Временные ограничения - можно ли открыть смену в данное время
- Права доступа - может ли данный сотрудник открыть смену
- Техническая готовность - все ли оборудование готово к работе
- Финансовая сверка - соответствие остатков

### Типы смен

- Кассовая смена - ответственность за денежные средства
- Официантская смена - персональный учет продаж
- Кухонная смена - доступ к кухонному экрану
- Менеджерская смена - контроль всех операций

## UX/UI требования

### Визуальные состояния

- **Обычное состояние** - отображение информации о смене
- **Состояние проверки** - процесс валидации оборудования
- **Состояние ошибки** - отображение проблем
- **Состояние успеха** - подтверждение открытия смены

### Анимации

- Плавные переходы между этапами проверки
- Анимация загрузки при проверке оборудования
- Пульсация кнопки при готовности к открытию
- Fade-in для уведомлений об ошибках

### Адаптивность

- Адаптация под различные размеры экранов
- Оптимизация для планшетов и терминалов
- Поддержка сенсорного управления
- Четкое отображение статусов проверок

## Различия по ролям

### Кассир

- Обязательная проверка фискального регистратора
- Подсчет начальной суммы наличных
- Контроль эквайринга

### Официант

- Персональный учет продаж
- Контроль чаевых
- Привязка к рабочим столам

### Повар

- Доступ к кухонному экрану
- Контроль времени приготовления
- Управление стоп-листом

### Менеджер

- Контроль всех операций
- Доступ к отчетам
- Управление персоналом

## Критерии готовности

- [ ] Все проверки оборудования выполняются корректно
- [ ] Валидация фискального регистратора работает
- [ ] Автоматическая инкассация функционирует
- [ ] Переходы на рабочие страницы работают
- [ ] Обработка ошибок происходит правильно
- [ ] Журналирование действий ведется
- [ ] Интерфейс адаптируется под различные устройства

## Оценка сложности

**Средняя сложность** - стандартная процедура открытия смены с множественными проверками и валидациями.
